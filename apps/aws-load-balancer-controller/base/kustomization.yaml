apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: kube-system
resources:
  - https://raw.githubusercontent.com/kubernetes-sigs/aws-load-balancer-controller/main/helm/aws-load-balancer-controller/crds/crds.yaml
helmCharts:
  - name: aws-load-balancer-controller
    includeCRDs: true
    releaseName: aws-load-balancer-controller
    version: 1.8.1
    repo: https://aws.github.io/eks-charts
    valuesInline:
      clusterName: vex-dev-usea1-eks
      enableCertManager: true
      serviceAccount:
        create: true
        annotations:
          eks.amazonaws.com/role-arn: arn:aws:iam::239468932737:role/AmazonEKSLoadBalancerControllerRole
