apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: tracing
helmCharts:
  - name: opentelemetry-collector
    includeCRDs: true
    releaseName: open-telemetry
    version: 0.73.1
    repo: https://open-telemetry.github.io/opentelemetry-helm-charts
    valuesInline:
      mode: deployment
      fullnameOverride: opentelemetry-collector
      config:
        receivers:
          jaeger: null
          prometheus: null
          zipkin:
            endpoint: 0.0.0.0:9411
        exporters:
          otlp:
            endpoint: tempo.monitoring.svc.cluster.local:55680
            # insecure: true
        service:
        pipelines:
          traces:
            receivers: [jaeger]
            processors: [batch]
            exporters: [otlp]
