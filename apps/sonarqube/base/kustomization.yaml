apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: sonarqube
resources:
  - ns.yaml
# commonLabels:
#   app: sonarqube
#   version: 10.0.0
helmCharts:
  - name: sonarqube
    releaseName: sonarqube
    version: "10.6.0+3033"
    repo: https://SonarSource.github.io/helm-chart-sonarqube
    valuesInline:
      tolerations:
        - key: "role"
          operator: "Equal"
          value: "on-demand"
          effect: "NoSchedule"
      nodeSelector:
        role: "on-demand"
      # prometheusExporter:
      #   enabled: true
      prometheusMonitoring:
        podMonitor:
          enabled: false
          interval: 60s
