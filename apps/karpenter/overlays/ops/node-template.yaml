---
apiVersion: karpenter.k8s.aws/v1alpha1
kind: AWSNodeTemplate
metadata:
  name: default
spec:
  subnetSelector:
    karpenter.sh/discovery: lgseksd1
  securityGroupSelector:
    karpenter.sh/discovery: lgseksd1
  blockDeviceMappings:
    # Root device
    - deviceName: /dev/xvda
      ebs:
        volumeSize: 30Gi
        volumeType: gp3
        encrypted: true
    # Data device: Container resources such as images and logs
    - deviceName: /dev/xvdb
      ebs:
        volumeSize: 30Gi
        volumeType: gp3
        encrypted: true
  detailedMonitoring: true
  tags:
    karpenter.sh/discovery: lgseksd1
    karpenter.sh/cluster_name: lgseksd1
    KarpenerProvisionerName: "default"
