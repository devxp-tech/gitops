apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: karpenter
helmCharts:
  - name: karpenter
    releaseName: karpenter
    version: v0.29.1
    repo: https://public.ecr.aws/karpenter/karpenter
    includeCRDs: true
    valuesInline:
      nameOverride: karpenter
      # serviceAccount:
      #   annotations:
      #     eks.amazonaws.comrole-arn: "${KARPENTER_IAM_ROLE_ARN}"
      #   settings:
      #     aws:
      #       clusterName: ${CLUSTER_NAME}
      #       clusterEndpoint: ${CLUSTER_ENDPOINT}
      #       defaultInstanceProfile: KarpenterNodeInstanceProfile-${CLUSTER_NAME}
      #       interruptionQueueName: ${CLUSTER_NAME}
